<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire de Notation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 1000px;
            margin: auto;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
        }
        th {
            background-color: #f2f2f2;
        }
        input[type="number"] {
            width: 50px;
            padding: 5px;
        }
        button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Formulaire de Notation</h1>
        <form id="formulaireNotation">
            <table>
                <thead>
                    <tr>
                        <th>Nom</th>
                        <th>Le Plus Mignon</th>
                        <th>Le Plus Cool</th>
                        <th>Le Plus Stylé</th>
                        <th>Le Plus Gentil</th>
                        <th>Le Plus Drôle</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Opeli</td>
                        <td><input type="number" name="mignon1" min="0" max="10" required></td>
                        <td><input type="number" name="cool1" min="0" max="10" required></td>
                        <td><input type="number" name="styler1" min="0" max="10" required></td>
                        <td><input type="number" name="gentil1" min="0" max="10" required></td>
                        <td><input type="number" name="drole1" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Délégué</td>
                        <td><input type="number" name="mignon2" min="0" max="10" required></td>
                        <td><input type="number" name="cool2" min="0" max="10" required></td>
                        <td><input type="number" name="styler2" min="0" max="10" required></td>
                        <td><input type="number" name="gentil2" min="0" max="10" required></td>
                        <td><input type="number" name="drole2" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Jean Samuel</td>
                        <td><input type="number" name="mignon3" min="0" max="10" required></td>
                        <td><input type="number" name="cool3" min="0" max="10" required></td>
                        <td><input type="number" name="styler3" min="0" max="10" required></td>
                        <td><input type="number" name="gentil3" min="0" max="10" required></td>
                        <td><input type="number" name="drole3" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Cedrick</td>
                        <td><input type="number" name="mignon4" min="0" max="10" required></td>
                        <td><input type="number" name="cool4" min="0" max="10" required></td>
                        <td><input type="number" name="styler4" min="0" max="10" required></td>
                        <td><input type="number" name="gentil4" min="0" max="10" required></td>
                        <td><input type="number" name="drole4" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Brice</td>
                        <td><input type="number" name="mignon5" min="0" max="10" required></td>
                        <td><input type="number" name="cool5" min="0" max="10" required></td>
                        <td><input type="number" name="styler5" min="0" max="10" required></td>
                        <td><input type="number" name="gentil5" min="0" max="10" required></td>
                        <td><input type="number" name="drole5" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Germain</td>
                        <td><input type="number" name="mignon6" min="0" max="10" required></td>
                        <td><input type="number" name="cool6" min="0" max="10" required></td>
                        <td><input type="number" name="styler6" min="0" max="10" required></td>
                        <td><input type="number" name="gentil6" min="0" max="10" required></td>
                        <td><input type="number" name="drole6" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Gbah</td>
                        <td><input type="number" name="mignon7" min="0" max="10" required></td>
                        <td><input type="number" name="cool7" min="0" max="10" required></td>
                        <td><input type="number" name="styler7" min="0" max="10" required></td>
                        <td><input type="number" name="gentil7" min="0" max="10" required></td>
                        <td><input type="number" name="drole7" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Baklo</td>
                        <td><input type="number" name="mignon8" min="0" max="10" required></td>
                        <td><input type="number" name="cool8" min="0" max="10" required></td>
                        <td><input type="number" name="styler8" min="0" max="10" required></td>
                        <td><input type="number" name="gentil8" min="0" max="10" required></td>
                        <td><input type="number" name="drole8" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Charles</td>
                        <td><input type="number" name="mignon9" min="0" max="10" required></td>
                        <td><input type="number" name="cool9" min="0" max="10" required></td>
                        <td><input type="number" name="styler9" min="0" max="10" required></td>
                        <td><input type="number" name="gentil9" min="0" max="10" required></td>
                        <td><input type="number" name="drole9" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Bakayoko</td>
                        <td><input type="number" name="mignon10" min="0" max="10" required></td>
                        <td><input type="number" name="cool10" min="0" max="10" required></td>
                        <td><input type="number" name="styler10" min="0" max="10" required></td>
                        <td><input type="number" name="gentil10" min="0" max="10" required></td>
                        <td><input type="number" name="drole10" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Zamblé</td>
                        <td><input type="number" name="mignon11" min="0" max="10" required></td>
                        <td><input type="number" name="cool11" min="0" max="10" required></td>
                        <td><input type="number" name="styler11" min="0" max="10" required></td>
                        <td><input type="number" name="gentil11" min="0" max="10" required></td>
                        <td><input type="number" name="drole11" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Bah Bi</td>
                        <td><input type="number" name="mignon12" min="0" max="10" required></td>
                        <td><input type="number" name="cool12" min="0" max="10" required></td>
                        <td><input type="number" name="styler12" min="0" max="10" required></td>
                        <td><input type="number" name="gentil12" min="0" max="10" required></td>
                        <td><input type="number" name="drole12" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Yannick</td>
                        <td><input type="number" name="mignon13" min="0" max="10" required></td>
                        <td><input type="number" name="cool13" min="0" max="10" required></td>
                        <td><input type="number" name="styler13" min="0" max="10" required></td>
                        <td><input type="number" name="gentil13" min="0" max="10" required></td>
                        <td><input type="number" name="drole13" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Oulaï</td>
                        <td><input type="number" name="mignon14" min="0" max="10" required></td>
                        <td><input type="number" name="cool14" min="0" max="10" required></td>
                        <td><input type="number" name="styler14" min="0" max="10" required></td>
                        <td><input type="number" name="gentil14" min="0" max="10" required></td>
                        <td><input type="number" name="drole14" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Boignon</td>
                        <td><input type="number" name="mignon15" min="0" max="10" required></td>
                        <td><input type="number" name="cool15" min="0" max="10" required></td>
                        <td><input type="number" name="styler15" min="0" max="10" required></td>
                        <td><input type="number" name="gentil15" min="0" max="10" required></td>
                        <td><input type="number" name="drole15" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Abraham</td>
                        <td><input type="number" name="mignon16" min="0" max="10" required></td>
                        <td><input type="number" name="cool16" min="0" max="10" required></td>
                        <td><input type="number" name="styler16" min="0" max="10" required></td>
                        <td><input type="number" name="gentil16" min="0" max="10" required></td>
                        <td><input type="number" name="drole16" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Seka</td>
                        <td><input type="number" name="mignon17" min="0" max="10" required></td>
                        <td><input type="number" name="cool17" min="0" max="10" required></td>
                        <td><input type="number" name="styler17" min="0" max="10" required></td>
                        <td><input type="number" name="gentil17" min="0" max="10" required></td>
                        <td><input type="number" name="drole17" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Diallo</td>
                        <td><input type="number" name="mignon18" min="0" max="10" required></td>
                        <td><input type="number" name="cool18" min="0" max="10" required></td>
                        <td><input type="number" name="styler18" min="0" max="10" required></td>
                        <td><input type="number" name="gentil18" min="0" max="10" required></td>
                        <td><input type="number" name="drole18" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Zongo</td>
                        <td><input type="number" name="mignon19" min="0" max="10" required></td>
                        <td><input type="number" name="cool19" min="0" max="10" required></td>
                        <td><input type="number" name="styler19" min="0" max="10" required></td>
                        <td><input type="number" name="gentil19" min="0" max="10" required></td>
                        <td><input type="number" name="drole19" min="0" max="10" required></td>
                    </tr>
                    <tr>
                        <td>Aziz</td>
                        <td><input type="number" name="mignon20" min="0" max="10" required></td>
                        <td><input type="number" name="cool20" min="0" max="10" required></td>
                        <td><input type="number" name="styler20" min="0" max="10" required></td>
                        <td><input type="number" name="gentil20" min="0" max="10" required></td>
                        <td><input type="number" name="drole20" min="0" max="10" required></td>
                    </tr>
                </tbody>
            </table>
            <button type="button" onclick="submitForm()">Soumettre les Notes</button>
        </form>
        <div id="resultat"></div>
    </div>
    <script>
        const participants = 20; // Number of participants
        const votes = 9; // Number of voters
    
        function submitForm() {
            const form = document.getElementById('formulaireNotation');
            const formData = new FormData(form);
            const notes = Array.from({ length: participants }, () => ({ mignon: [], cool: [], styler: [], gentil: [], drole: [] }));
    
            for (let [key, value] of formData.entries()) {
                const [critere, index] = key.match(/([a-z]+)(\d+)/).slice(1);
                notes[parseInt(index) - 1][critere].push(Number(value));
            }
    
            // Vérifier si tous les participants ont reçu 9 notes pour chaque critère
            const allVotesReceived = notes.every(note => 
                note.mignon.length === votes && 
                note.cool.length === votes && 
                note.styler.length === votes && 
                note.gentil.length === votes && 
                note.drole.length === votes
            );
    
            if (!allVotesReceived) {
                alert("Tous les participants doivent recevoir 9 votes pour chaque critère avant de soumettre.");
                return;
            }
    
            const moyennes = notes.map((note, index) => ({
                participant: index + 1,
                mignon: (note.mignon.reduce((a, b) => a + b, 0) / votes).toFixed(2),
                cool: (note.cool.reduce((a, b) => a + b, 0) / votes).toFixed(2),
                styler: (note.styler.reduce((a, b) => a + b, 0) / votes).toFixed(2),
                gentil: (note.gentil.reduce((a, b) => a + b, 0) / votes).toFixed(2),
                drole: (note.drole.reduce((a, b) => a + b, 0) / votes).toFixed(2),
                total: ((note.mignon.reduce((a, b) => a + b, 0) + note.cool.reduce((a, b) => a + b, 0) + note.styler.reduce((a, b) => a + b, 0) + note.gentil.reduce((a, b) => a + b, 0) + note.drole.reduce((a, b) => a + b, 0)) / (votes * 5)).toFixed(2)
            }));
    
            moyennes.sort((a, b) => b.total - a.total);
    
            const premiers = {
                mignon: moyennes.reduce((max, p) => p.mignon > max.mignon ? p : max, moyennes[0]),
                cool: moyennes.reduce((max, p) => p.cool > max.cool ? p : max, moyennes[0]),
                styler: moyennes.reduce((max, p) => p.styler > max.styler ? p : max, moyennes[0]),
                gentil: moyennes.reduce((max, p) => p.gentil > max.gentil ? p : max, moyennes[0]),
                drole: moyennes.reduce((max, p) => p.drole > max.drole ? p : max, moyennes[0]),
                total: moyennes[0]
            };
    
            displayResults(moyennes, premiers);
        }
    
        function displayResults(moyennes, premiers) {
            const resultat = document.getElementById('resultat');
            resultat.innerHTML = `
                <h2>Résultats</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Position</th>
                            <th>Participant</th>
                            <th>Le Plus Mignon</th>
                            <th>Le Plus Cool</th>
                            <th>Le Plus Stylé</th>
                            <th>Le Plus Gentil</th>
                            <th>Le Plus Drôle</th>
                            <th>Moyenne Totale</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${moyennes.map((m, i) => `
                            <tr>
                                <td>${i + 1}</td>
                                <td>Participant ${m.participant}</td>
                                <td>${m.mignon}</td>
                                <td>${m.cool}</td>
                                <td>${m.styler}</td>
                                <td>${m.gentil}</td>
                                <td>${m.drole}</td>
                                <td>${m.total}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
                <h2>Premiers de chaque catégorie</h2>
                <ul>
                    <li>Le Plus Mignon : Participant ${premiers.mignon.participant}</li>
                    <li>Le Plus Cool : Participant ${premiers.cool.participant}</li>
                    <li>Le Plus Stylé : Participant ${premiers.styler.participant}</li>
                    <li>Le Plus Gentil : Participant ${premiers.gentil.participant}</li>
                    <li>Le Plus Drôle : Participant ${premiers.drole.participant}</li>
                    <li>Meilleure Moyenne Totale : Participant ${premiers.total.participant}</li>
                </ul>
            `;
        }
    </script>
    </body>
</html>
